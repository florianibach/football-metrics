# R1.6-17 QA Check (DoD + AC Traceability)

Story: **R1.6-17 – Erweiterte Run-Visualisierung zur Richtungsdarstellung**

## AC Traceability

1. **Mindestens vier GPS-Punkte pro HSR-/Sprint-Run auf der Map**
   - In `GpsRunsMap` werden Runs mit weniger als vier Schwellenpunkten automatisch um vorherige Kontextpunkte ergänzt.
   - Abgedeckt durch Frontend-Test `R1_6_17_Ac01_Ac02_Ac03_Ac04_Ac05_Ac06_Ac07_Ac08_extends_short_runs_with_lightgray_context_points_only_for_direction`.

2. **Ergänzung vorheriger Punkte bei kurzen Runs**
   - Ergänzungslogik nutzt vorherige Punktindizes bis zur Zielgröße 4, begrenzt durch Session-Start.

3. **Visuelle Kennzeichnung ergänzter Punkte**
   - Ergänzte Punkte erhalten eigene Klasse `.gps-heatmap__run--supplemental` (hellgrau, erhöht transparent), Schwellenpunkte behalten HSR/Sprint-Farbe.

4. **Keine Auswirkung auf Metriken/Statistiken**
   - Distanz, Dauer und Top-Speed in Listen bleiben auf den originalen Run-Daten (`pointIndices`, `distanceMeters`, `durationSeconds`) und werden nicht durch Kontextpunkte verändert.

5. **Identische Logik für HSR und Sprint-Phasen**
   - Rendering-Kontext wird zentral für alle Run-Segmente angewendet, unabhängig von Run-Typ.

6. **Fachliche Transparenz in der UI**
   - Erklärungstext in EN/DE ergänzt, dass blaue Punkte nur der Richtungsdarstellung dienen.

## DoD Kurzcheck

- [x] ACs fachlich umgesetzt.
- [x] Frontend-Tests grün.
- [x] Build grün.
- [x] Story-Status in Story-Datei auf DONE.
- [x] Story-spezifische Doku ergänzt (QA-Check + UI-Erklärung).

## Ergebnis

Aus QA-Sicht ist **R1.6-17** im umgesetzten Story-Scope **Done-fähig**.
