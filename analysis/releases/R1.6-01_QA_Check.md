# R1.6-01 QA Check (DoD + AC Traceability)

Story: **R1.6-01 – Data-Availability Layer (Dual/HF-only/GPS-only)**

## AC Traceability
- **AC1 – Datenmodus je Session automatisch erkannt (Dual/HF-only/GPS-only):**
  - Backend ergänzt `dataAvailability` in `TcxActivitySummary` inkl. Modus- und Statusauflösung.
  - Testabdeckung: `R1_6_01_Ac01_Extract_WithGpsAndHeartRate_ShouldResolveDualMode`, `R1_6_01_Ac01_Ac04_Extract_WithGpsOnlyLowQuality_ShouldResolveGpsOnlyWithReason`.
- **AC2 – Aktiver Datenmodus in Session-Liste + Session-Detail sichtbar:**
  - Frontend zeigt Datenmodus als eigene Spalte in der Historie und als Metrik im Detail.
  - Testabdeckung: `R1_6_01_Ac02_shows_data_mode_in_session_history_and_detail`.
- **AC3 – Nicht valide Insights im aktiven Modus als nicht verfügbar markiert:**
  - Bestehender `metricAvailability`-Mechanismus bleibt aktiv; Modus-Status ergänzt die Transparenz.
  - Testabdeckung: bestehende Story-Tests zu `NotMeasured`/`NotUsable` bleiben grün.
- **AC4 – UI erklärt Ursache (nicht vorhanden vs. unbrauchbar):**
  - `dataAvailability` enthält explizite Gründe (`gpsReason`, `heartRateReason`) und wird im Detailtext angezeigt.
  - Testabdeckung: `R1_6_01_Ac03_Ac04_marks_unavailable_mode_with_clear_reasons`.

## DoD Review
- Funktionalität: **erfüllt** (alle ACs im Story-Scope umgesetzt).
- Qualität: **erfüllt** (Backend- und Frontend-Tests mit Story-Bezug ergänzt).
- Dokumentation: **erfüllt** (Story-Status + QA-Check aktualisiert).

Aus QA-Sicht ist R1.6-01 im definierten Story-Scope **Done-fähig**.
