# R1.5-08 QA Check (DoD + AC Traceability)

Story: **R1.5-08 – Bevorzugten Glättungsfilter im Profil hinterlegen**

## AC-Umsetzung
1. **AC1 – Default-Filter im Profil konfigurierbar**
   - Backend erweitert `UserProfile` um `DefaultSmoothingFilter` inkl. Validierung auf unterstützte Filter.
   - Frontend ergänzt in den Profileinstellungen ein auswählbares Feld „Default smoothing filter“.  
   - Abgedeckt durch Tests:
     - `R1_5_08_Ac01_UpdateProfile_ShouldPersistDefaultSmoothingFilter`
     - `R1_5_08_Ac01_UpdateProfile_ShouldRejectUnsupportedDefaultSmoothingFilter`
     - `R1_5_08_Ac01_shows_profile_default_filter_setting_and_saves_it`

2. **AC2 – Profil-Default für neue Session-Analysen vorausgewählt**
   - Upload-Pipeline verwendet `profile.DefaultSmoothingFilter` als initialen Session-Filter.
   - Filter-Herkunft wird initial als `ProfileDefault` persistiert.
   - Abgedeckt durch Test:
     - `R1_5_08_Ac02_UploadShouldUseProfileDefaultSmoothingFilter`

3. **AC3 – Manueller Override pro Session möglich**
   - Session-Endpunkt `/api/tcx/{id}/smoothing-filter` bleibt verfügbar und setzt Filter weiterhin pro Session.
   - Beim manuellen Wechsel wird die Herkunft auf `ManualOverride` gesetzt.
   - Abgedeckt durch Tests:
     - `R1_07_Ac01_Ac03_UpdatingSessionSmoothingFilter_ShouldPersistAndReturnUpdatedSummary`
     - `R1_5_08_Ac03_Ac04_ManualSessionFilterChange_ShouldMarkManualOverrideAndKeepTransparentSource`

4. **AC4 – Transparenz über Herkunft des aktiven Filters**
   - API-Response enthält `selectedSmoothingFilterSource` (`ProfileDefault`/`ManualOverride`).
   - Session-Detail zeigt explizit „Filter source“ mit lokalisiertem Wert.
   - Abgedeckt durch Test:
     - `R1_5_08_Ac04_shows_if_filter_is_profile_default_or_manual_override`

## DoD Review (Story-relevant)
- Funktionalität: **erfüllt** (alle ACs im Story-Scope implementiert und geprüft).
- Qualität: **erfüllt** (Backend- und Frontend-Tests für neue Pfade vorhanden).
- Dokumentation: **erfüllt** (Story-Status + README + QA-Check aktualisiert).

Aus QA-Sicht ist R1.5-08 im definierten Story-Scope **Done-fähig**.
