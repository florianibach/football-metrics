# R1.6 Featurevorschläge – Tiefenanalyse für Amateurfußball

## Zielbild für R1.6
R1.6 sollte den Sprung von **Einzelmetriken** zu **interpretierbaren Kombinations-Insights** machen:
- nicht nur „wie viel“ (z. B. Distanz), sondern auch „wie belastend“ (HF/TRIMP) und „wo“ (Heatmap),
- mit Fokus auf **Amateur-Spieler**, die ohne Analysten-Team konkrete Trainingsentscheidungen treffen wollen,
- mit robuster Nutzbarkeit auch dann, wenn in vielen Sessions **nur Herzfrequenzdaten** verfügbar sind.

---

## Ausgangsbasis aus der vorhandenen Analyse-PDF
Aus der internen PDF ergeben sich als stabile Kernbausteine:
- GPS-Kernmetriken: Gesamtdistanz, High-Speed-Distanz, Sprintanzahl, max. Geschwindigkeit, Distanz/Minute, Beschleunigungen/Abbremsungen.
- Herzfrequenzseite: ØHF, MaxHF, Zeit in HF-Zonen, TRIMP als interne Last.
- Taktik-/Positionssicht: Heatmaps zur Positionsdisziplin und Kontextbewertung.
- Vergleichbarkeit: gleiche Spielformen vergleichen (z. B. 5v5 mit 5v5), Intensität relativ zur Dauer betrachten.

Diese Punkte passen direkt zum Produktziel „Selbstanalyse für Amateur-Spieler“.

---

## Ergänzende wissenschaftliche Leitplanken (kurz)
1. **Interne + externe Last gemeinsam betrachten (wenn verfügbar)**
   In Studien zu Fußballspielern ist die Kopplung von externer Last (Lauf-/GPS-Output) und interner Last (HF) zentral, weil identischer Laufoutput je nach Fitness/Fatigue unterschiedlich „teuer“ sein kann.

2. **HF-only bleibt fachlich wertvoll**
   Auch ohne GPS lassen sich mit HF-Zonen, Zeit >85% HFmax und TRIMP belastbare Aussagen zur internen Belastung treffen.

3. **Relativmetriken sind für Vergleiche robuster**
   Metriken pro Minute bzw. pro Zeitfenster reduzieren Verzerrungen durch unterschiedliche Spieldauer und Trainingsformen.

4. **Small-Sided Games erzeugen oft hohe interne Intensitäten**
   Für Amateur-Training relevant: kleine Spielformen können hohe Zeitanteile in oberen HF-Zonen erzeugen; dadurch sind zonen- und fensterbasierte Vergleiche sinnvoll.

5. **Heatmaps brauchen Kontext**
   Heatmaps sind nützlich für Rollen-/Positionsdisziplin, sollten aber immer mit Spieltyp und Zeitfenster interpretierbar sein (sonst Fehlinterpretation).

---

## Konkrete Feature-Vorschläge für R1.6

## 1) Data-Availability Layer (Pflicht): GPS+HF, HF-only, GPS-only
**Was:** Vor allen Insights wird pro Session automatisch ein Datenmodus erkannt:
- **Dual Mode**: GPS + HF vorhanden,
- **HF-only Mode**: nur HF vorhanden,
- **GPS-only Mode**: nur GPS vorhanden.

**Warum wichtig:**
- verhindert unpassende oder irreführende Insights,
- macht die App in realen Amateur-Setups stabil nutzbar.

**Output:**
- klarer Hinweis in der UI: „Diese Analyse basiert auf HF-only“.

---

## 2) Kombi-Insight „Effizienz der Belastung“ (Core Feature)
**Was:** Kombination von GPS + HF in einer kompakten Insight-Kachel (nur in Dual Mode).

**Vorschlag für Kennzahlen:**
- Externe Last pro Minute (z. B. Distanz/min, HSR/min, Sprints/min),
- Interne Last pro Minute (TRIMP/min oder Zeit >85% HFmax pro Minute),
- Verhältniskennzahl: „interne Last je externer Last“ (z. B. TRIMP pro 100 m).

**Nutzen für Amateur-Spieler:**
- erkennt Tage, an denen gleiche Laufleistung „härter“ war (Ermüdung/Hitze/fehlende Frische),
- hilft, Überlastung früh zu erkennen.

---

## 3) HF-only Insights (hoher Stellenwert)
**Was:** Spezifische Analyse, wenn kein GPS vorliegt.

**Kernmetriken:**
- ØHF, MaxHF,
- Zeit in HF-Zonen (inkl. >85% HFmax),
- TRIMP und TRIMP/min,
- Intervallmuster (wie oft HF über Schwellen steigt/fällt).

**Nutzen:**
- Sessions bleiben auswertbar statt „leere Seite“,
- Trainingsteuerung funktioniert auch ohne GPS-Hardware.

---

## 4) Session-Splitting / Unter-Session-Modell (sehr wichtig)
**Was:** Eine Session kann in **Unter-Sessions (Segmente)** aufgeteilt werden, z. B. Warm-up, Torschuss, Abschlussspiel, 1. Halbzeit, Pause, 2. Halbzeit.

**Zwei Betriebsarten:**
1. **Manuell markieren** (Start/Ende je Segment),
2. **Nachträglich aufteilen** mit visueller Hilfe aus GPS- und/oder HF-Verlauf.

**Analyse auf Segmentebene:**
- alle Kennzahlen und Vergleiche laufen auf Segment statt nur Gesamtsession,
- **Heatmaps sind für Segmente gleichwertig zur Gesamtsession** (kein optionaler Zweig),
- HF-only Segmente bleiben vollständig analysierbar.

---

## 5) Heatmap v1: Gesamt + Zeitfenster + Segmente (Pflicht)
**Was:**
- **Gesamtheatmap** der Session,
- **Zeitfenster-Heatmaps** (z. B. 0–15, 15–30, 30–45),
- **Segment-Heatmaps** auf Basis der Unter-Sessions,
- Umschaltung „absolute Intensität“ vs. „relativ zur Fenster-/Segmentdauer“.

**Warum wichtig:**
- zeigt Positions- und Laufmuster-Veränderungen über den Verlauf,
- ermöglicht faire Vergleiche zwischen inhaltlichen Trainings-/Spielphasen.

---

## 6) Vergleichsansicht „Training vs. Spiel“
**Was:**
- gleicher Spieler, Vergleich über Session-Typ,
- Metriken pro Minute + HF-Zonenanteile + HSR/Sprints,
- in Dual Mode plus HF-only kompatibel.

**Wichtige Anpassung für bestehendes Profilverhalten:**
- Vergleichsgranularität bleibt im Profil **konfigurierbar mit 1/2/5 Minuten**,
- zusätzlich Segmentvergleich als eigene Perspektive (statt starrem globalem pro-Minute-Zwang).

---

## 7) Zeitfenster- und Segment-Intensitätsprofil
**Was:**
- Linien-/Balkenprofil pro Zeitfenster **und/oder** Segment für:
  - Distanz/min,
  - HSR/min,
  - %Zeit >85% HFmax,
  - Beschleunigungen/min,
  - TRIMP/min.

**Nutzen:**
- macht „Drop-off“ in späteren Phasen sichtbar,
- unterstützt Pacing, Ausdauer- und Regenerationssteuerung.

---

## Priorisierung für R1.6 (empfohlen)

### Must-have
1. Data-Availability Layer (Dual / HF-only / GPS-only).
2. HF-only Insight-Pack (vollwertige Auswertung ohne GPS).
3. Session-Splitting / Unter-Session-Modell.
4. Heatmap gesamt + Zeitfenster + Segmente.
5. Segment-/Zeitfenster-Intensitätsprofil.
6. Beibehaltung 1/2/5-Minuten-Granularität im Profilvergleich.

### Should-have
7. Kombi-Insight externe/interne Last (Dual Mode).
8. Vergleich Training vs. Spiel (mediane Referenzwerte + Segmentebene).

### Ausblick (nicht R1.6)
- positionsspezifische Auswertungen mit **Feldgrößen-Normalisierung** (für belastbare Rollenaussagen).

---

## Möglicher Delivery-Schnitt (2 Iterationen)

### Iteration A (schneller Nutzerwert)
- Data-Availability Layer,
- HF-only Insight-Pack,
- Segmentierung manuell + nachträgliche Bearbeitung,
- Zeitfenster-/Segment-Intensitätsprofil,
- Profilgranularität 1/2/5 Minuten unverändert beibehalten.

### Iteration B (Analyse-Tiefe)
- Heatmap gesamt + segmentiert,
- Kombi-Kachel (TRIMP pro 100 m + Status),
- Training-vs-Spiel-Referenz inkl. Segmentvergleich,
- regelbasierte Auto-Insights.

---

## Daten- und Qualitätsanforderungen
- Mindestdatenqualität pro Session anzeigen (GPS/HF vorhanden, Lückenquote).
- **Bei fehlendem GPS:** HF-only Pipeline aktivieren, keine Funktionssperre.
- **Bei fehlender HF:** externe Last zeigen, intern-lastige Insights ausblenden mit Hinweis.
- Vergleichsauflösung im Profil konfigurierbar lassen (**1/2/5 Minuten**).
- Heatmap-Glättung transparent halten (Tooltip: Rastergröße/Glättung aktiv).
- Segmentwechsel als Event speichern (für spätere Re-Analyse und Trendvergleich).

---

## Vorschlag für konkrete R1.6-Story-Cluster
1. **AN-1601 Data Availability & Fallback Engine** (Dual/HF-only/GPS-only).
2. **AN-1602 Session Segmentation v1** (Unter-Sessions, manuell + nachträglich editierbar).
3. **AN-1603 Time-Window & Segment Metrics API**.
4. **AN-1604 HF-only Insight Pack**.
5. **AN-1605 Heatmap Engine v1** (gesamt + zeitfenster- + segmentbasiert, gleichwertig).
6. **AN-1606 Combined Load Insight** (externe vs. interne Last).
7. **AN-1607 Session Type Benchmark** (Training vs. Spiel + Segmentvergleich).
8. **AN-1608 Insight Text Generator (regelbasiert)**.

---

## Weitere Ideen auf Basis deiner Anmerkungen
1. **Segment-Vorlagen**: vordefinierte Templates (Training, Spiel, Reha), damit das Aufteilen mit 2–3 Klicks geht.
2. **Auto-Segment-Vorschläge**: System markiert mögliche Schnittpunkte anhand HF-Sprünge/GPS-Wechsel; Nutzer bestätigt nur.
3. **Segment-Qualitätshinweis**: Kennzeichnung, wie verlässlich ein Segment ist (saubere Daten vs. Lücken).
4. **Vergleich „gleiche Segmente über Wochen“**: z. B. alle Warm-ups oder alle Abschlussspiele untereinander.
5. **Coach-Notiz pro Segment**: kurze Kontextnotiz („Unterzahl“, „hohes Pressing“) für bessere Interpretation später.

---

## Externe Quellen für die weitere Ausarbeitung
- Internal vs. external load in amateur soccer (Applied Sciences/MDPI): https://www.mdpi.com/2076-3417/14/1/258
- Heart-rate responses in small-sided games vs. match-play: https://www.mdpi.com/2075-4663/4/2/31
- Practitioner perspective on session-reporting and communication: https://www.playerdata.com/en-us/blog/session-report-analysis
