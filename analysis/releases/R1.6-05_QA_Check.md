# QA Check – R1.6-05

Story: **R1.6-05 – Analyse-Parität zwischen Gesamtsession und Segmenten**

## Umsetzungsumfang
- Segment-Metriken übernehmen nun die kombinierte Availability-Logik über die zugrunde liegenden Intervalle statt harte `0`-Fallbacks.
- Für Segment-Scopes werden berechnete Kernmetriken (`distance`, `maxSpeed`, `runningDensity`, etc.) nur berechnet, wenn die jeweilige Metrik im Segment als verfügbar gilt.
- Segment-Tests decken explizit den „nicht verfügbar / not measured“-Mechanismus analog zur Session-Ebene ab.

## DoD Review (Story-relevant)
- Funktionalität: **erfüllt** (Parität der Availability-Logik Session ↔ Segment sichergestellt).
- Qualität: **erfüllt** (automatisierter Frontend-Test für AC1+AC4 ergänzt; komplette Frontend-Suite grün).
- Dokumentation: **erfüllt** (Story auf DONE gesetzt, QA-Check ergänzt).

## Testnachweise
- `npm test` (im Ordner `frontend`) ✅

## Ergebnis
Aus QA-Sicht ist **R1.6-05** im umgesetzten Scope **Done-fähig**.

## Architektur-Klarstellung
- Die Backend-Berechnungslogik für Metriken blieb unverändert.
- Segment-Analysen werden in der aktuellen Architektur im Frontend über Zeitfenster (`intervalAggregates`) der Session abgeleitet.
- Der Fix in R1.6-05 war daher bewusst primär UI-seitig: identische Availability-/"nicht verfügbar"-Regeln für Session- und Segment-Scope in genau diesem Frontend-Ableitungspfad.
